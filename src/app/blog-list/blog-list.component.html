<!-- üîç Autocomplete Blog Search -->
<!-- üîç Right-aligned Autocomplete Search -->
<div style="display: flex;flex-wrap: wrap;gap: 1rem;margin-bottom: 1rem;flex-direction: row-reverse;">
  <mat-form-field appearance="fill" style="min-width: 200px;">
    <mat-label>Filter By</mat-label>
    <mat-select [(ngModel)]="filterType" (selectionChange)="onFilterTypeChange($event.value)">
      <mat-option value="title">Title</mat-option>
      <mat-option value="date">Date</mat-option>
    </mat-select>
  </mat-form-field>



  <!-- üîç Title Search -->
  <!-- <mat-form-field appearance="fill" style="min-width: 250px; max-width: 300px;" *ngIf="filterType === 'title'">
    <mat-label>Search Blog by Title</mat-label>
    <input type="text" matInput [matAutocomplete]="auto" [(ngModel)]="searchTitle" (ngModelChange)="filterBlogByTitle()"
      placeholder="Type blog title..." />
    <mat-autocomplete #auto="matAutocomplete">
      <mat-option *ngFor="let title of allTitles" [value]="title">
        {{ title }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field> -->

  <mat-form-field appearance="fill" style="min-width: 250px; max-width: 300px;" *ngIf="filterType === 'title'">
    <mat-label>Search Blog by Title</mat-label>
    <mat-select (selectionChange)="filterBlogByTitle($event.value)">
      <mat-option *ngFor="let title of allTitles" [value]="title.id">
        {{ title.title }}
      </mat-option>
    </mat-select>
  </mat-form-field>


  <!-- üìÖ Date Range Filter -->
  <div *ngIf="filterType === 'date'" style="display: flex; gap: 1rem;">
    <mat-form-field appearance="fill">
      <mat-label>From Date</mat-label>
      <input matInput [matDatepicker]="picker1" [(ngModel)]="fromDate" (dateChange)="filterBlogByDate()">
      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>To Date</mat-label>
      <input matInput [matDatepicker]="picker2" [(ngModel)]="toDate" (dateChange)="filterBlogByDate()">
      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>
  </div>
</div>
<a href="#" (click)="showAll()" *ngIf="filterType === 'date' || filterType === 'title'">
  Show All Blogs</a>






<div style="display: flex;flex-wrap: wrap;gap: 1rem;margin-bottom: 1rem;align-items: flex-start;">



  <!-- üìù Show Blogs -->
  <mat-card *ngFor="let blog of filteredBlogs"
    style="position: relative;flex: 1 1 auto; display: flex; flex-direction: column; gap: 1rem;">

    <div
      style="position: absolute; top: 0.5rem; right: 0.5rem; display: flex; flex-direction: column; align-items: flex-end;">

      

      <span style="font-size: 0.8rem; color: gray;">üóìÔ∏è {{ blog.date | date:'mediumDate' }}</span>

    </div>
    <mat-card-title>{{ blog.title }}</mat-card-title>
    <mat-card-content>
      {{ blog.content | slice: 0:100 }}...
    </mat-card-content>

    <button mat-stroked-button color="accent" (click)="saveToHistory(blog)">
      <mat-icon>history</mat-icon>
      Save to History to Read Full Blog
    </button>



  </mat-card>

  <!-- üîá No Blog Found -->
  <div *ngIf="filteredBlogs.length === 0" style="color: gray;">
    No blog found for today.
  </div>



</div>